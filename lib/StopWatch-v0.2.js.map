{"version":3,"sources":["StopWatch-v0.2.js"],"names":[],"mappings":"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","file":"StopWatch-v0.2.js","sourcesContent":["/**\r\n * Created by sergii.danilov on 20/10/2014.\r\n */\r\nvar StopWatch = function () {\r\n    this.history = [];\r\n    this.startTime = 0;\r\n    this.stopTime = 0;\r\n    this.running = false;\r\n};\r\n\r\nStopWatch.prototype.currentTime = (function () {\r\n    var performance = !!window.performance,\r\n        fn;\r\n    if (performance) {\r\n        fn = function () {\r\n            return window.performance.now();\r\n        }\r\n    } else {\r\n        fn = function () {\r\n            return new Date().getTime();\r\n        }\r\n    }\r\n    return fn;\r\n})();\r\n\r\nStopWatch.prototype.start = function () {\r\n    this.history = [];\r\n    this.startTime = this.currentTime();\r\n    this.running = true;\r\n};\r\n\r\nStopWatch.prototype.stop = function (name) {\r\n    this.stopTime = this.currentTime();\r\n    this.running = false;\r\n    this.printElapsed(name);\r\n};\r\n\r\nStopWatch.prototype.getElapsedMilliseconds = function () {\r\n    if (this.running) {\r\n        this.stopTime = this.currentTime();\r\n    }\r\n    return this.stopTime - this.startTime;\r\n};\r\n\r\n\r\nStopWatch.prototype.printElapsed = function (name) {\r\n    var currentName = name || 'Elapsed:',\r\n        ms = this.getElapsedMilliseconds();\r\n    this.history.push({name: name, time: ms});\r\n    console.log(currentName, '[' + ms + ' ms]');\r\n};\r\n\r\nStopWatch.prototype.printHistory = function () {\r\n    var arr = this.history,\r\n        prevTime = 0,\r\n        stat = {},\r\n        round3Dig = function (v) {\r\n            var res = v * 1000;\r\n            res = Math.round(res);\r\n            return res / 1000;\r\n        },\r\n        len, i, item, prop,\r\n        time, delta;\r\n    len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        item = arr[i];\r\n        time = round3Dig(item.time);\r\n        delta = round3Dig(time - prevTime);\r\n        console.log(item.name, '[' + time + ' ms]', '- it takes [' + delta + ' ms]');\r\n        prevTime = time;\r\n        if (stat[item.name]) {\r\n            stat[item.name] += 1;\r\n        } else {\r\n            stat[item.name] = 1;\r\n        }\r\n    }\r\n    time = round3Dig(time - arr[0].time);\r\n    console.log('Full cycle:', '[' + time + ' ms]');\r\n    for (prop in stat) {\r\n        console.log(prop + ':', stat[prop] + ' times');\r\n    }\r\n    return time;\r\n};\r\n\r\nStopWatch.prototype.clearHistory = function () {\r\n    this.history = [];\r\n};\r\n\r\nvar sw = new StopWatch();"],"sourceRoot":"/source/"}