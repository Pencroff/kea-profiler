{"version":3,"sources":["Storage.js"],"names":[],"mappings":";;;;;;;;AAIA,IAAI,KAAK,GAAG,UAAC,IAAI,EAAE,IAAI,EAAK;AACxB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QACxB,GAAG,GAAG,IAAI,CAAC,MAAM;QACjB,CAAC,GAAG,CAAC;QACL,IAAI,CAAC;AACT,WAAO,CAAC,GAAG,GAAG,EAAE;AACZ,YAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACf,YAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;AACxB,SAAC,IAAI,CAAC,CAAC;KACV;AACD,WAAO,IAAI,CAAC;CACf,CAAC;;IAEmB,OAAO;AACZ,aADK,OAAO,GACT;AACX,YAAI,CAAC,IAAI,GAAG,EAAE,CAAC;KAClB;;yBAHgB,OAAO;AAKxB,eAAO;mBAAA,iBAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC9B,oBAAI,EAAE,GAAG,IAAI;oBACT,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAChC,oBAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;aAC/B;;;;;AAED,iBAAS;mBAAA,mBAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;AAChC,oBAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;oBAC7B,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACvC,oBAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AAClB,oBAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;aAC7C;;;;;AAMD,cAAM;;;;;;mBAAA,kBAAG;AACL,uBAAO,IAAI,CAAC,IAAI,CAAC;aACpB;;;;;AAED,eAAO;mBAAA,iBAAC,QAAQ,EAAE;AACd,oBAAI,EAAE,GAAG,IAAI;oBACT,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC7B,oBAAG,CAAC,IAAI,EAAE;AACN,wBAAI,GAAG,EAAE,CAAC;AACV,sBAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;iBAC5B;AACD,uBAAO,IAAI,CAAC;aACf;;;;;AAED,eAAO;mBAAA,iBAAC,QAAQ,EAAE,QAAQ,EAAE;AACxB,uBAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;aAC3C;;;;;AAED,iBAAS;mBAAA,mBAAC,QAAQ,EAAE;AAChB,oBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;aAC5B;;;;;AAED,aAAK;mBAAA,iBAAG;AACJ,oBAAI,CAAC,IAAI,GAAG,EAAE,CAAC;aAClB;;;;;;;WA9CgB,OAAO;;;iBAAP,OAAO","file":"Storage.js","sourcesContent":["/**\r\n * Created by Pencroff on 30/01/2015.\r\n */\r\n\r\nvar merge = (objA, objB) => {\r\n    var keys = Object.keys(objB),\r\n        len = keys.length,\r\n        i = 0,\r\n        prop;\r\n    while (i < len) {\r\n        prop = keys[i];\r\n        objA[prop] = objB[prop];\r\n        i += 1;\r\n    }\r\n    return objA;\r\n};\r\n\r\nexport default class Storage {\r\n    constructor () {\r\n        this.data = {};\r\n    }\r\n\r\n    setData(flowName, stepName, data) {\r\n        var me = this,\r\n            flow = me.getFlow(flowName);\r\n        flow[stepName] = data || {};\r\n    }\r\n\r\n    mergeData(flowName, stepName, data) {\r\n        var flow = this.getFlow(flowName),\r\n            currentData = flow[stepName] || {};\r\n        data = data || {};\r\n        flow[stepName] = merge(currentData, data);\r\n    }\r\n\r\n    //decoupleDataReferences(flow) {\r\n    //\r\n    //}\r\n\r\n    getAll() {\r\n        return this.data;\r\n    }\r\n\r\n    getFlow(flowName) {\r\n        var me = this,\r\n            flow = me.data[flowName];\r\n        if(!flow) {\r\n            flow = {};\r\n            me.data[flowName] = flow;\r\n        }\r\n        return flow;\r\n    }\r\n\r\n    getStep(flowName, stepName) {\r\n        return this.getFlow(flowName)[stepName];\r\n    }\r\n\r\n    clearFlow(flowName) {\r\n        this.data[flowName] = {};\r\n    }\r\n\r\n    clear() {\r\n        this.data = {};\r\n    }\r\n}"],"sourceRoot":"/source/"}